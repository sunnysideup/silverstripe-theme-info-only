(self.webpackChunkpublic=self.webpackChunkpublic||[]).push([[143],{224:function(){const e={bodyObject:null,init:function(){e.bodyObject=document.getElementsByTagName("body")[0],this.addBasicBodyClassListeners()},addBasicBodyClassListeners:function(){document.addEventListener("DOMContentLoaded",(function(t){e.bodyObject.classList.add("body-loaded"),e.bodyObject.classList.remove("body-unloaded"),"ontouchstart"in document.documentElement?e.bodyObject.classList.add("touch"):e.bodyObject.classList.add("no-touch")})),window.addEventListener("beforeunload",(function(){}))}};e.init()},999:function(){(function(){function e(e,s){[].forEach.call(e.getElementsByTagName("li"),(o=>{if(!s||e===o.parentNode){o.style.userSelect="none",o.style.MozUserSelect="none",o.style.msUserSelect="none",o.style.WebkitUserSelect="none";const e=o.getElementsByTagName("ul");if(e.length>0){const s=document.createElement("span");s.classList.add("open-close"),s.addEventListener("click",t.bind(null,o)),s.innerHTML='<i class="open">&nbsp;</i><i class="closed">â†°</i>',(o.classList.contains("section")||o.classList.contains("current"))&&n(o),n(o),o.insertBefore(s,e[0])}}}))}function t(e,t){let s=t.target;for(;"LI"!==s.nodeName;)s=s.parentNode;s===e&&n(e)}function n(e){const t=e.classList.contains("collapsibleListClosed"),n=e.getElementsByTagName("ul");[].forEach.call(n,(n=>{let s=n;for(;"LI"!==s.nodeName;)s=s.parentNode;s===e&&(n.style.display=t?"block":"none")})),e.classList.remove("collapsibleListOpen"),e.classList.remove("collapsibleListClosed"),n.length>0&&e.classList.add("collapsibleList"+(t?"Open":"Closed"))}return{apply:function(t){[].forEach.call(document.getElementsByTagName("ul"),(n=>{n.classList.contains("collapsibleList")&&(e(n,!0),t||[].forEach.call(n.getElementsByTagName("ul"),(e=>{e.classList.add("collapsibleList")})))}))},applyTo:e}})().apply()},646:function(){window.onload=function(){const e=document.getElementsByClassName("menu-holder");for(var t=0;t<e.length;t++){e[t].onclick=function(e){e.target===this&&this.classList.toggle("on")}}};document.getElementById("find-box").addEventListener("input",(function(e){const t=e.target.value,n=document.getElementById("ShowHideCurrent"),s=document.getElementById("SearchFilterHR");var o=document.getElementsByClassName("site");let a=[],l=[];for(var i=0;i<o.length;i++){const e=o.item(i),c=e.id.substring(5).indexOf(t);t?0===c?(n.style.display="none",s.style.display="none",a.push(e)):(n.style.display="none",s.style.display="none",e.classList.remove("show"),e.classList.add("hidden"),-1!=c&&l.push(e)):(n.style.display="",s.style.display="",e.classList.remove("show"),e.classList.remove("hidden"))}if(a.length>0)for(i=0;i<a.length;i++)a[i].classList.add("show"),a[i].classList.remove("hidden");else if(l.length>0)for(i=0;i<l.length;i++)l[i].classList.add("show"),l[i].classList.remove("hidden");const c=document.getElementById("SearchResult");a.length>0?c.innerHTML=a.length+"/"+o.length:l.length>0?c.innerHTML=l.length+"/"+o.length:c.innerHTML=""}))},440:function(){for(var e=document.querySelectorAll("input, select, textarea"),t=e.length-1;t>=0;--t){e[t].addEventListener("change",s,!1),e[t].addEventListener("keyup",s,!1),e[t].addEventListener("focus",s,!1),e[t].addEventListener("blur",s,!1),e[t].addEventListener("mousedown",s,!1);var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),e[t].dispatchEvent(n)}function s(e){var t=e.target.value;t&&t.replace(/^\s+|\s+$/g,"")?e.target.classList.remove("no-value"):e.target.classList.add("no-value")}},43:function(e,t,n){"use strict";n(224),n(999),n(440);function s(e){const t=e.currentTarget,n=!t.classList.contains("show-current");t.classList.toggle("show-current"),t.classList.toggle("show-all");const s=document.getElementsByClassName("site");for(var o=0;o<s.length;o++){const e=s[o];n&&e.classList.contains("current")||!n?e.classList.remove("hide-not-current"):e.classList.add("hide-not-current")}}function o(e,t){e.forEach((e=>{const n=e.getAttribute("data-field").trim(),s=0===t.length,o=t.indexOf(n);s||-1!==o?e.style.display="":e.classList.contains("missing-links")?function(e,t,n){let s=!1;const o=e.querySelectorAll("li");for(var a=0;a<o.length;a++){const e=o[a].getAttribute("data-field").trim();-1!==n.indexOf(e)&&(s=!0)}e.style.display=s||t?"":"none"}(e,s,t):e.classList.contains("error")&&-1!==t.indexOf("Missing")?e.style.display="":e.style.display="none"}))}function a(e){if("Enter"===e.key){e.preventDefault(),e.currentTarget.blur(),window.getSelection().removeAllRanges();const t=e.currentTarget,n=t.innerHTML,s=window.location.protocol,o=window.location.hostname,a=t.parentElement.parentElement.parentElement.parentElement,l=a.dataset.id,i=s+"//"+o+("/our-sites/updateprojecthours/"+l+"/"),c=new FormData;c.append("hours",n);const d=new XMLHttpRequest;d.open("POST",i),d.send(c),d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){const e=d.responseText;a.parentElement.parentElement.parentElement.parentElement.parentElement.outerHTML=e,function(e,t){const n=window.stats.projects.filter((t=>t.id==e)),s=document.querySelector('[data-id="'+e+'"]').dataset.hoursleft;n[0].CurrentHours=t,n[0].HoursLeft=parseFloat(s)}(l,n),r()}}}}let l={};function i(){!function(){l={totalSites:0,sitesWithCurrentProject:0,totalProjects:0,activeProjects:0,projectHoursLeft:0,projectDaysLeft:0,completeDate:new Date};for(var e=0;e<window.stats.sites.length;e++){const t=window.stats.sites[e];l.totalSites++,t.isCurrent&&l.sitesWithCurrentProject++}for(e=0;e<window.stats.projects.length;e++){const t=window.stats.projects[e];l.totalProjects++,l.projectHoursLeft+=t.HoursLeft,l.projectDaysLeft=Math.round(l.projectHoursLeft/5),l.completeDate=new Date((new Date).getTime()+24*l.projectDaysLeft*60*60*1e3),t.isActive&&l.activeProjects++}}(),console.log(l),document.getElementById("stats-total-sites").innerHTML=l.totalSites,document.getElementById("stats-current-sites").innerHTML=l.sitesWithCurrentProject,document.getElementById("stats-inactive-sites").innerHTML=l.totalSites-l.sitesWithCurrentProject,document.getElementById("stats-total-projects").innerHTML=l.totalProjects,document.getElementById("stats-active-projects").innerHTML=l.activeProjects,document.getElementById("stats-past-projects").innerHTML=l.totalProjects-l.activeProjects,document.getElementById("stats-project-hours").innerHTML=Math.round(l.projectHoursLeft).toLocaleString("en-US"),document.getElementById("stats-project-days").innerHTML=l.projectDaysLeft.toLocaleString("en-GB"),document.getElementById("stats-completion-day").innerHTML=l.completeDate.toLocaleDateString("en-GB")}i();let c=[];function r(e=!1){!function(){const e=document.getElementsByClassName("addlinkbutton");for(var t=0;t<e.length;t++){const n=e[t];n.removeEventListener("click",d),n.addEventListener("click",d)}}(),function(e){const t=document.getElementById("ShowHideCurrent");t&&(t.removeEventListener("click",s,!0),t.addEventListener("click",s,!0)),e&&(t.classList.toggle("show-all"),document.getElementsByClassName("current").length>0&&t.click())}(e),function(e,t){const n=document.getElementById("fieldsToc");if(n){var s=[...document.querySelectorAll("[data-field]")];const a=[];s.forEach((e=>{const t=e.getAttribute("data-field").trim();-1===a.indexOf(t)&&a.push(t)}));const l=document.createElement("ul");l.id="filterUl";const i=[];a.forEach((e=>{const n=document.createElement("li"),a=document.createElement("a");a.innerHTML=e,a.addEventListener("click",(function(n){const a=this.innerHTML;this.classList.toggle("current"),this.classList.toggle("link");const l=t.indexOf(a);return this.classList.contains("current")?-1===l&&t.push(e):-1!==l&&t.splice(l,1),n.preventDefault(),o(s,t),!1})),a.href="#",a.classList.add("link"),i.push(a),n.appendChild(a),l.appendChild(n)})),e||(document.getElementById("filterUl").remove(),o(s,t),i.forEach((e=>{t.includes(e.innerHTML)&&(e.classList.toggle("current"),e.classList.toggle("link"))}))),n.appendChild(l)}}(e,c),function(){const e=document.getElementsByClassName("editable-field");for(var t=0;t<e.length;t++){const n=e[t];n.removeEventListener("keydown",a),n.addEventListener("keydown",a)}}(),i()}function d(e){const t=e.currentTarget;if("false"==t.dataset.inputactive){t.dataset.inputactive="true";const e=document.createElement("input");e.type="text",e.classList.add("addlinkinput"),e.style.width="250px",e.style.float="right",e.addEventListener("keyup",(({key:n})=>{"Enter"===n&&(""!=e.value&&u(t,e.value),t.dataset.inputactive="false",e.remove())})),t.before(e),e.focus()}else{t.dataset.inputactive="false";const e=t.parentElement.getElementsByClassName("addlinkinput")[0];""!=e.value&&u(t,e.value),e.remove()}}function u(e,t){const n=window.location.protocol+"//"+window.location.hostname+e.dataset.url,s=new FormData;s.append("link",t);const o=new XMLHttpRequest;o.open("POST",n),o.send(s),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){const t=o.responseText;e.parentElement.parentElement.outerHTML=t,r()}}}r(!0);n(646)}},function(e){var t;t=43,e(e.s=t)}]);